<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediCore AI Hospital - Advanced Medical Intelligence</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .nav-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }
        
        .nav-link {
            color: #2c3e50;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .nav-link:hover { color: #667eea; }
        
        .emergency-btn {
            background: #e74c3c;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .emergency-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        .hero {
            text-align: center;
            padding: 4rem 2rem;
            color: white;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .hero p {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 2rem;
        }
        
        .stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 2rem;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            display: block;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .specialists-section {
            padding: 4rem 2rem;
            background: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 3rem;
            color: #2c3e50;
        }
        
        .specialists-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }
        
        .specialist-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border: 2px solid transparent;
            cursor: pointer;
        }
        
        .specialist-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }
        
        .specialist-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .specialist-icon {
            font-size: 3rem;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }
        
        .specialist-info h3 {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .specialist-info p {
            color: #666;
            font-weight: 500;
        }
        
        .specialist-expertise {
            color: #555;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }
        
        .analyze-btn {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .analyze-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 20px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        
        .result-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1rem 0;
        }
        
        .diagnosis {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .confidence {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .confidence-bar {
            flex: 1;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #2ecc71, #27ae60);
            transition: width 0.5s;
        }
        
        .risk-badge {
            display: inline-block;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .risk-low { background: #d4edda; color: #155724; }
        .risk-medium { background: #fff3cd; color: #856404; }
        .risk-high { background: #f8d7da; color: #721c24; }
        
        .recommendations {
            margin-top: 1rem;
        }
        
        .recommendations h4 {
            margin-bottom: 0.5rem;
            color: #2c3e50;
        }
        
        .recommendations ul {
            list-style: none;
            padding: 0;
        }
        
        .recommendations li {
            padding: 0.3rem 0;
            color: #555;
        }
        
        .recommendations li:before {
            content: "✓ ";
            color: #2ecc71;
            font-weight: bold;
        }
        
        .loading {
            text-align: center;
            padding: 2rem;
        }
        
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .remedies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .remedy-card {
            background: white;
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .remedy-card:hover {
            transform: translateY(-5px);
        }
        
        .remedy-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .remedy-list {
            list-style: none;
            padding: 0;
            text-align: left;
        }
        
        .remedy-list li {
            padding: 0.3rem 0;
            color: #555;
        }
        
        .remedy-list li:before {
            content: "✓ ";
            color: #2ecc71;
            font-weight: bold;
        }
        
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }
        
        .service-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .service-card:hover {
            transform: translateY(-5px);
        }
        
        .service-icon {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 1rem;
        }
        
        .treatment-section {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #eee;
        }
        
        .treatment-section h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .treatment-list {
            list-style: none;
            padding: 0;
        }
        
        .treatment-list li {
            padding: 0.2rem 0;
            color: #555;
        }
        
        .treatment-list li:before {
            content: "💊 ";
            margin-right: 0.5rem;
        }
        
        .home-remedy-section {
            margin-top: 1rem;
            padding: 1rem;
            background: #f0f8ff;
            border-radius: 8px;
        }
        
        .home-remedy-section h4 {
            color: #2c3e50;
            margin-bottom: 0.5rem;
        }
        
        .remedy-item {
            display: flex;
            align-items: center;
            padding: 0.3rem 0;
            color: #555;
        }
        
        .remedy-item:before {
            content: "🌿 ";
            margin-right: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .hero h1 { font-size: 2.5rem; }
            .stats { flex-direction: column; gap: 1rem; }
            .specialists-grid { grid-template-columns: 1fr; }
            .remedies-grid { grid-template-columns: 1fr; }
            .services-grid { grid-template-columns: 1fr; }
            .nav-links { display: none; }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="nav-content">
            <div class="logo">
                <i class="fas fa-hospital"></i>
                MediCore AI
            </div>
            <div class="nav-links">
                <a href="#specialists" class="nav-link">Specialists</a>
                <a href="#chat-section" class="nav-link">AI Doctor Chat</a>
                <a href="#remedies" class="nav-link">Home Remedies</a>
                <a href="#services" class="nav-link">Services</a>
                <a href="#" class="emergency-btn" onclick="showEmergencyContacts()">
                    <i class="fas fa-ambulance"></i> Emergency
                </a>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="slogan-banner">
            <div class="slogan-text" id="sloganText">"Healing Hearts, Empowering Lives with AI"</div>
        </div>
        <h1>Advanced AI Medical Intelligence</h1>
        <p>Experience the future of healthcare with our AI-powered specialist consultations. Get instant, accurate medical analysis from world-class artificial intelligence.</p>
        
        <div class="stats">
            <div class="stat">
                <span class="stat-number">99.2%</span>
                <span class="stat-label">Accuracy Rate</span>
            </div>
            <div class="stat">
                <span class="stat-number">24/7</span>
                <span class="stat-label">Availability</span>
            </div>
            <div class="stat">
                <span class="stat-number">12</span>
                <span class="stat-label">AI Specialists</span>
            </div>
        </div>
    </section>

    <section class="chat-section" id="chat-section">
        <div class="container">
            <h2 class="section-title">Chat with AI Doctor</h2>
            <div class="chat-container">
                <div class="chat-header">
                    <div class="doctor-info">
                        <div class="doctor-avatar">🩺</div>
                        <div>
                            <h3>Dr. AI Assistant</h3>
                            <p class="status">Online • Ready to help</p>
                        </div>
                    </div>
                </div>
                <div class="chat-messages" id="chatMessages">
                    <div class="message ai-message">
                        <div class="message-content">
                            <p>Hello! I'm your AI Doctor. Please describe your symptoms or health concerns in detail, and I'll provide you with professional medical guidance. How can I help you today?</p>
                        </div>
                        <div class="message-time">Just now</div>
                    </div>
                </div>
                <div class="chat-input-container">
                    <div class="chat-input">
                        <input type="text" id="messageInput" placeholder="Describe your symptoms or ask a health question..." maxlength="500">
                        <button onclick="sendMessage()" id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="quick-questions">
                        <button class="quick-btn" onclick="quickQuestion('I have fever and headache')">Fever & Headache</button>
                        <button class="quick-btn" onclick="quickQuestion('I am feeling anxious')">Anxiety</button>
                        <button class="quick-btn" onclick="quickQuestion('I have stomach pain')">Stomach Pain</button>
                        <button class="quick-btn" onclick="quickQuestion('I cannot sleep properly')">Sleep Issues</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="specialists-section" id="specialists">
        <div class="container">
            <h2 class="section-title">Our AI Medical Specialists</h2>
            <div class="specialists-grid">
                {% for key, specialist in specialists.items() %}
                <div class="specialist-card" onclick="analyzeCase('{{ key }}')">
                    <div class="specialist-header">
                        <div class="specialist-icon" style="background: {{ specialist.color }}">
                            {{ specialist.icon }}
                        </div>
                        <div class="specialist-info">
                            <h3>{{ specialist.name }}</h3>
                            <p>{{ specialist.title }}</p>
                        </div>
                    </div>
                    <div class="specialist-expertise">
                        {{ specialist.expertise }}
                    </div>
                    <button class="analyze-btn" style="background: {{ specialist.color }}">
                        <i class="fas fa-stethoscope"></i> Start AI Analysis
                    </button>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <section class="specialists-section" id="remedies" style="background: #f8f9fa;">
        <div class="container">
            <h2 class="section-title">Quick Home Remedies</h2>
            <div class="remedies-grid">
                <div class="remedy-card">
                    <div class="remedy-icon">🫖</div>
                    <h3>Common Cold</h3>
                    <ul class="remedy-list">
                        <li>Honey & ginger tea</li>
                        <li>Steam inhalation</li>
                        <li>Warm salt water gargle</li>
                        <li>Rest and hydration</li>
                    </ul>
                </div>
                <div class="remedy-card">
                    <div class="remedy-icon">🤕</div>
                    <h3>Headache</h3>
                    <ul class="remedy-list">
                        <li>Cold compress on forehead</li>
                        <li>Peppermint oil massage</li>
                        <li>Stay hydrated</li>
                        <li>Dark, quiet room rest</li>
                    </ul>
                </div>
                <div class="remedy-card">
                    <div class="remedy-icon">🤢</div>
                    <h3>Nausea</h3>
                    <ul class="remedy-list">
                        <li>Ginger tea or candies</li>
                        <li>Small, frequent meals</li>
                        <li>Avoid strong odors</li>
                        <li>Fresh air and rest</li>
                    </ul>
                </div>
                <div class="remedy-card">
                    <div class="remedy-icon">😴</div>
                    <h3>Insomnia</h3>
                    <ul class="remedy-list">
                        <li>Chamomile tea before bed</li>
                        <li>No screens 1hr before sleep</li>
                        <li>Cool, dark bedroom</li>
                        <li>Regular sleep schedule</li>
                    </ul>
                </div>
                <div class="remedy-card">
                    <div class="remedy-icon">🦷</div>
                    <h3>Toothache</h3>
                    <ul class="remedy-list">
                        <li>Salt water rinse</li>
                        <li>Cold compress outside</li>
                        <li>Clove oil application</li>
                        <li>Over-the-counter pain relief</li>
                    </ul>
                </div>
                <div class="remedy-card">
                    <div class="remedy-icon">🔥</div>
                    <h3>Minor Burns</h3>
                    <ul class="remedy-list">
                        <li>Cool running water</li>
                        <li>Aloe vera gel</li>
                        <li>Honey application</li>
                        <li>Keep area clean & dry</li>
                    </ul>
                </div>
            </div>
            <div style="text-align: center; margin-top: 2rem; padding: 1rem; background: #fff3cd; border-radius: 10px; color: #856404;">
                <strong>⚠️ Disclaimer:</strong> These are general home remedies. For serious conditions or persistent symptoms, always consult a healthcare professional.
            </div>
        </div>
    </section>

    <section class="specialists-section" id="services">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <i class="fas fa-robot service-icon"></i>
                    <h3>AI Diagnosis</h3>
                    <p>Advanced artificial intelligence analyzes your symptoms and medical data to provide accurate preliminary diagnoses.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-prescription-bottle-alt service-icon"></i>
                    <h3>Treatment Plans</h3>
                    <p>Personalized treatment recommendations based on your condition, medical history, and current health status.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-home service-icon"></i>
                    <h3>Home Care</h3>
                    <p>Safe and effective home remedies and self-care instructions for common health conditions.</p>
                </div>
                <div class="service-card">
                    <i class="fas fa-clock service-icon"></i>
                    <h3>24/7 Availability</h3>
                    <p>Round-the-clock access to AI medical consultations whenever you need healthcare guidance.</p>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="logo">
                        <i class="fas fa-hospital"></i>
                        MediCore AI
                    </div>
                    <p>Advanced AI-powered healthcare solutions for a healthier tomorrow.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="#specialists">AI Specialists</a></li>
                        <li><a href="#chat-section">AI Doctor Chat</a></li>
                        <li><a href="#remedies">Home Remedies</a></li>
                        <li><a href="#services">Services</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Emergency India</h4>
                    <ul>
                        <li>🚑 Ambulance: 108</li>
                        <li>👮 Police: 100</li>
                        <li>🔥 Fire: 101</li>
                        <li>🧠 Mental Health: 9152987821</li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Contact</h4>
                    <ul>
                        <li>📧 info@medicoreai.com</li>
                        <li>📞 +91-XXX-XXX-XXXX</li>
                        <li>🤖 24/7 AI Support Available</li>
                        <li>🏥 Pan India Service</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <div class="copyright">
                    <p>&copy; 2024 MediCore AI Hospital. All rights reserved.</p>
                </div>
                <div class="made-with-love">
                    <p>Made with ❤️ by <strong>Bhavesh Kusakiya</strong></p>
                </div>
            </div>
            
            <div class="disclaimer">
                <p><strong>⚠️ Medical Disclaimer:</strong> This AI system is for informational purposes only and does not replace professional medical advice, diagnosis, or treatment. Always seek the advice of qualified healthcare providers with any questions regarding medical conditions. In case of medical emergencies, call your local emergency number immediately.</p>
            </div>
        </div>
    </footer>

    <div id="emergencyModal" class="modal">
        <div class="modal-content emergency-modal">
            <div class="modal-header emergency-header">
                <h3>🆘 Emergency Contacts - India</h3>
                <button class="close-btn" onclick="closeEmergencyModal()">&times;</button>
            </div>
            <div class="emergency-contacts">
                <div class="contact-section">
                    <h4>🚨 National Emergency Numbers</h4>
                    <div class="contact-grid">
                        <div class="contact-item urgent">
                            <i class="fas fa-ambulance"></i>
                            <div>
                                <strong>Ambulance</strong>
                                <p class="emergency-number">108</p>
                            </div>
                        </div>
                        <div class="contact-item urgent">
                            <i class="fas fa-shield-alt"></i>
                            <div>
                                <strong>Police</strong>
                                <p class="emergency-number">100</p>
                            </div>
                        </div>
                        <div class="contact-item urgent">
                            <i class="fas fa-fire"></i>
                            <div>
                                <strong>Fire Brigade</strong>
                                <p class="emergency-number">101</p>
                            </div>
                        </div>
                        <div class="contact-item urgent">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div>
                                <strong>Disaster Management</strong>
                                <p class="emergency-number">1078</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="contact-section">
                    <h4>🏥 Major Hospitals</h4>
                    <div class="hospital-list">
                        <div class="hospital-item">
                            <strong>AIIMS Delhi</strong> - <span class="phone-number">+91-11-2659-3677</span>
                        </div>
                        <div class="hospital-item">
                            <strong>Apollo Delhi</strong> - <span class="phone-number">+91-11-2692-5858</span>
                        </div>
                        <div class="hospital-item">
                            <strong>Fortis Mumbai</strong> - <span class="phone-number">+91-22-6754-4444</span>
                        </div>
                        <div class="hospital-item">
                            <strong>Manipal Bangalore</strong> - <span class="phone-number">+91-80-2502-4444</span>
                        </div>
                    </div>
                </div>
                
                <div class="contact-section">
                    <h4>📞 Helplines</h4>
                    <div class="helpline-list">
                        <div class="helpline-item">
                            <strong>Mental Health</strong> - <span class="phone-number">9152987821</span>
                        </div>
                        <div class="helpline-item">
                            <strong>Women Helpline</strong> - <span class="phone-number">1091</span>
                        </div>
                        <div class="helpline-item">
                            <strong>Child Helpline</strong> - <span class="phone-number">1098</span>
                        </div>
                        <div class="helpline-item">
                            <strong>Senior Citizen</strong> - <span class="phone-number">14567</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="resultModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>AI Analysis Results</h3>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>AI is analyzing your case...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function analyzeCase(specialty) {
            document.getElementById('resultModal').style.display = 'block';
            document.getElementById('modalBody').innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>AI is analyzing your case...</p>
                </div>
            `;

            fetch(`/analyze/${specialty}`, { method: 'POST' })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        displayResult(data.result);
                    } else {
                        document.getElementById('modalBody').innerHTML = `
                            <div class="result-card">
                                <h3 style="color: #e74c3c;">Analysis Failed</h3>
                                <p>${data.message}</p>
                            </div>
                        `;
                    }
                })
                .catch(error => {
                    document.getElementById('modalBody').innerHTML = `
                        <div class="result-card">
                            <h3 style="color: #e74c3c;">Error</h3>
                            <p>Unable to complete analysis. Please try again.</p>
                        </div>
                    `;
                });
        }

        function displayResult(result) {
            const confidence = Math.round(result.confidence * 100);
            const riskClass = `risk-${result.risk_level.toLowerCase()}`;
            
            document.getElementById('modalBody').innerHTML = `
                <div class="result-card">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem;">
                        <div style="font-size: 2rem;">${result.specialist.icon}</div>
                        <div>
                            <h3>${result.specialist.name}</h3>
                            <p style="color: #666;">${result.specialist.title}</p>
                        </div>
                    </div>
                    
                    <div class="diagnosis">${result.diagnosis}</div>
                    
                    <div class="confidence">
                        <span>Confidence:</span>
                        <div class="confidence-bar">
                            <div class="confidence-fill" style="width: ${confidence}%"></div>
                        </div>
                        <span>${confidence}%</span>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <span class="risk-badge ${riskClass}">
                            ${result.risk_level} Risk
                        </span>
                    </div>
                    
                    <div class="recommendations">
                        <h4>Recommendations:</h4>
                        <ul>
                            ${result.recommendations.map(rec => `<li>${rec}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="treatment-section">
                        <h4>Treatment Plan:</h4>
                        <ul class="treatment-list">
                            ${result.treatment.map(treatment => `<li>${treatment}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="home-remedy-section">
                        <h4>Home Remedies:</h4>
                        <div>
                            ${result.home_remedies.map(remedy => `<div class="remedy-item">${remedy}</div>`).join('')}
                        </div>
                    </div>
                    
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid #eee; font-size: 0.9rem; color: #666;">
                        Analysis completed: ${result.timestamp}
                    </div>
                </div>
            `;
        }

        function closeModal() {
            document.getElementById('resultModal').style.display = 'none';
        }

        function showEmergencyContacts() {
            document.getElementById('emergencyModal').style.display = 'block';
        }
        
        function closeEmergencyModal() {
            document.getElementById('emergencyModal').style.display = 'none';
        }
        
        // Chat functionality
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();
            
            if (message) {
                addMessage(message, 'user');
                input.value = '';
                
                // Show typing indicator
                showTypingIndicator();
                
                // Send to AI
                fetch('/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ message: message })
                })
                .then(response => response.json())
                .then(data => {
                    hideTypingIndicator();
                    if (data.success) {
                        addMessage(data.response, 'ai', data.timestamp);
                    } else {
                        addMessage('Sorry, I\'m having trouble processing your request. Please try again.', 'ai');
                    }
                })
                .catch(error => {
                    hideTypingIndicator();
                    addMessage('Connection error. Please check your internet and try again.', 'ai');
                });
            }
        }
        
        function quickQuestion(question) {
            document.getElementById('messageInput').value = question;
            sendMessage();
        }
        
        function addMessage(message, sender, time = null) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            const currentTime = time || new Date().toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });
            
            messageDiv.innerHTML = `
                <div class="message-content">
                    <p>${message}</p>
                </div>
                <div class="message-time">${currentTime}</div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function showTypingIndicator() {
            const chatMessages = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai-message typing-indicator';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="message-content">
                    <div class="typing-dots">
                        <span></span><span></span><span></span>
                    </div>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        // Enter key to send message
        document.getElementById('messageInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        // Rotating slogans
        const slogans = [
            '"Healing Hearts, Empowering Lives with AI"',
            '"Your Health, Our AI Intelligence"',
            '"Smart Care, Everywhere"',
            '"AI-Powered Wellness for All"',
            '"Technology Meets Compassion"',
            '"Future of Healthcare, Today"'
        ];
        
        let sloganIndex = 0;
        setInterval(() => {
            sloganIndex = (sloganIndex + 1) % slogans.length;
            document.getElementById('sloganText').textContent = slogans[sloganIndex];
        }, 4000);

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('resultModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>